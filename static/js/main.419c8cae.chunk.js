(this.webpackJsonpcompleted=this.webpackJsonpcompleted||[]).push([[0],{143:function(e,t,a){e.exports=a(166)},145:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=(a(145),a(51)),c=a(24),o=a(5),i=a.n(o),u=a(10),m=a(15),s=a(110),p=Object(n.createContext)(),d=function(e){var t=e.children,a=Object(n.useState)({}),l=Object(m.a)(a,2),c=l[0],o=l[1];return r.a.createElement(p.Provider,{value:{data:c,setValues:function(e){o((function(t){return Object(s.a)({},t,{},e)}))}}},t)},f=function(){return Object(n.useContext)(p)},E=a(81),h=a(35),b=a(66),g=a(68),v=a(227),O=a(225),j=Object(O.a)((function(e){return{root:{margin:e.spacing(3,0,2)}}})),x=function(e){var t=e.children,a=Object(g.a)(e,["children"]),n=j();return r.a.createElement(v.a,Object.assign({type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.root},a),t)},y=a(228),N=Object(O.a)((function(e){return{root:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"}}})),k=function(e){var t=e.children,a=Object(g.a)(e,["children"]),n=N();return r.a.createElement(y.a,Object.assign({className:n.root,component:"main",maxWidth:"xs"},a),t)},w=Object(O.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)}}})),S=function(e){var t=e.children,a=Object(g.a)(e,["children"]),n=w();return r.a.createElement("form",Object.assign({},a,{className:n.root,noValidate:!0}),t)},I=a(124),D=a(248),B=a(244),V=a(111),T=a(36),C=a(33),z=a(76),F=Object(I.a)({direction:"rtl"}),q=Object(z.a)({key:"muirtl",stylisPlugins:[T.i,V.a]}),R=Object(n.forwardRef)((function(e,t){return r.a.createElement(C.a,{value:q},r.a.createElement(D.a,{theme:F},r.a.createElement("div",{dir:"rtl"},r.a.createElement(B.a,Object.assign({margin:"normal",inputRef:t,fullWidth:!0},e)))))})),W=a(47),A=a(1),J=a(2),P=new(function(){function e(){Object(A.a)(this,e),this.authenticated=!1}return Object(J.a)(e,[{key:"login",value:function(e){this.authenticated=!0,e()}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}()),M=a(39),$=a(116),G=Object($.a)({apiKey:"AIzaSyCJzSwNoyp6CGlEEhwEeZqgyfEEwx9sysQ",authDomain:"perekmesimaapp.firebaseapp.com",projectId:"perekmesimaapp",storageBucket:"perekmesimaapp.appspot.com",messagingSenderId:"1031625487663",appId:"1:1031625487663:web:4e497f65902921d9551dda"}),K=Object(M.e)(G),Z=a(91),L=a.n(Z),Q=a(249),Y=function(e){var t=Object.values(e)[Object.keys(e).indexOf("hasEmail")];return console.log(t),"true"===t&&(e.hasEmail=!0),console.log(e.hasEmail),"false"===t&&(e.hasEmail=!1),console.log(e.hasEmail),e},H=W.b().shape({personalID:W.a().typeError("\u05d4\u05de\u05e1\u05e4\u05e8 \u05d4\u05d0\u05d9\u05e9\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e1\u05e4\u05e8").test("len","\u05d4\u05de\u05e1\u05e4\u05e8 \u05d4\u05d0\u05d9\u05e9\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc 7 \u05e1\u05e4\u05e8\u05d5\u05ea",(function(e){return 7===e.toString().length}))}),U=function(){var e,t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],o=a[1],s=f(),p=s.setValues,d=s.data,g=Object(c.h)(),v=Object(h.d)({defaultValues:{personalID:d.personalID},mode:"onBlur",resolver:Object(b.a)(H)}),O=v.register,j=v.handleSubmit,y=v.errors,N=Object(M.b)(K,"Members"),w=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.values(t).toString(),n=Object(M.f)(N,Object(M.h)("personalID","==",a)),e.next=4,Object(M.d)(n);case 4:return e.sent.forEach((function(e){t=e.data()})),e.next=8,Y(t);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,w(t);case 3:a=e.sent,t===a?(o(!1),P.logout((function(){g("./")})),L.a.fire({icon:"error",title:"!\u05d4\u05de\u05e1\u05e4\u05e8 \u05d4\u05d0\u05d9\u05e9\u05d9 \u05dc\u05d0 \u05d1\u05de\u05e2\u05e8\u05db\u05ea",text:".\u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05d4\u05de\u05e1\u05e4\u05e8 \u05d4\u05d5\u05d6\u05df \u05d1\u05e6\u05d5\u05e8\u05d4 \u05e9\u05d2\u05d5\u05d9\u05d4 \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05e0\u05d9\u05ea",confirmButtonText:"\u05d0\u05d5\u05e7\u05d9\u05d9"})):P.login((function(){g("./step1")})),p(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(k,null,r.a.createElement(E.a,{component:"h2",variant:"h5"},"\u05d4\u05d6\u05d3\u05d4\u05d5\u05ea"),r.a.createElement(S,{onSubmit:j(I)},r.a.createElement(R,{ref:O,id:"personalID",type:"number",label:"\u05de\u05e1\u05e4\u05e8 \u05d0\u05d9\u05e9\u05d9",name:"personalID",error:!!y.personalID,helperText:null===y||void 0===y||null===(e=y.personalID)||void 0===e?void 0:e.message}),r.a.createElement(x,{disabled:l},l&&r.a.createElement(Q.a,{size:40,speed:2.5,color:"gray"}),!l&&r.a.createElement("span",null,"\u05db\u05e0\u05d9\u05e1\u05d4"))))},X=W.b().shape({firstName:W.c().matches(/^([^0-9]*)$/,"\u05d4\u05e9\u05dd \u05d4\u05e4\u05e8\u05d8\u05d9 \u05dc\u05d0 \u05d9\u05db\u05d5\u05dc \u05dc\u05db\u05dc\u05d5\u05dc \u05de\u05e1\u05e4\u05e8\u05d9\u05dd").required("\u05d7\u05d5\u05d1\u05d4 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05d4\u05e9\u05dd \u05d4\u05e4\u05e8\u05d8\u05d9"),lastName:W.c().matches(/^([^0-9]*)$/,"\u05d4\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 \u05dc\u05d0 \u05d9\u05db\u05d5\u05dc \u05dc\u05db\u05dc\u05d5\u05dc \u05de\u05e1\u05e4\u05e8\u05d9\u05dd").required("\u05d7\u05d5\u05d1\u05d4 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05d4\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4")}),_=function(){var e,t,a=f(),n=a.setValues,l=a.data,o=Object(c.h)(),i=Object(h.d)({defaultValues:{firstName:l.firstName,lastName:l.lastName},mode:"onBlur",resolver:Object(b.a)(X)}),u=i.register,m=i.handleSubmit,s=i.errors;return r.a.createElement(k,null,r.a.createElement(E.a,{component:"h2",variant:"h5"},"\u05e9\u05dc\u05d1 1"),r.a.createElement(S,{onSubmit:m((function(e){o("/step2"),n(e)}))},r.a.createElement(R,{dir:"rtl",ref:u,id:"firstName",type:"text",label:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",name:"firstName",error:!!s.firstName,helperText:null===s||void 0===s||null===(e=s.firstName)||void 0===e?void 0:e.message}),r.a.createElement(R,{dir:"rtl",ref:u,id:"lastName",type:"text",label:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",name:"lastName",error:!!s.lastName,helperText:null===s||void 0===s||null===(t=s.lastName)||void 0===t?void 0:t.message}),r.a.createElement(x,null,"\u05d4\u05d1\u05d0")))},ee=a(232),te=a(246),ae=a(245),ne=W.b().shape({email:W.c().email("\u05d4\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d4\u05d5\u05d6\u05df \u05d1\u05e6\u05d5\u05e8\u05d4 \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d4"),phoneNumber:W.c().required("\u05d7\u05d5\u05d1\u05d4 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05de\u05e1\u05e4\u05e8 \u05d4\u05d8\u05dc\u05e4\u05d5\u05df")}),re=function(){var e,t,a=f(),n=a.setValues,l=a.data,o=Object(c.h)(),i=Object(h.d)({defaultValues:{email:l.email,hasEmail:l.hasEmail,phoneNumber:l.phoneNumber},mode:"onBlur",resolver:Object(b.a)(ne)}),u=i.register,m=i.handleSubmit,s=i.watch,p=i.errors,d=s("hasEmail");return r.a.createElement(k,null,r.a.createElement(E.a,{component:"h2",variant:"h5"},"Step 2"),r.a.createElement(S,{onSubmit:m((function(e){o("/step3");var t=Object.values(e)[Object.keys(e).indexOf("hasEmail")];console.log(t),t||(console.log("in the if"),console.log(e.hasEmail),delete e.email),n(e)}))},r.a.createElement(R,{ref:u,id:"phoneNumber",type:"tel",label:"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df",name:"phoneNumber",dir:"ltr",error:!!p.phoneNumber,helperText:null===p||void 0===p||null===(e=p.phoneNumber)||void 0===e?void 0:e.message,required:!0,onChange:function(e){var t;e.target.value=(t=e.target.value,new ae.a("IL").input(t))}}),r.a.createElement(ee.a,{control:r.a.createElement(te.a,{defaultValue:l.hasEmail,defaultChecked:l.hasEmail,color:"primary",inputRef:u,name:"hasEmail"}),dir:"rtl",label:"\u05d4\u05d0\u05dd \u05d9\u05e9 \u05dc\u05da \u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc?"}),d&&r.a.createElement(R,{ref:u,id:"email",type:"email",label:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",name:"email",dir:"ltr",error:!!p.email,helperText:null===p||void 0===p||null===(t=p.email)||void 0===t?void 0:t.message}),r.a.createElement(x,null,"Next")))},le=a(125),ce=a(233),oe=a(118),ie=a.n(oe),ue=a(234),me=a(250),se=a(235),pe=a(236),de=a(92),fe=a.n(de),Ee=Object(O.a)((function(e){return{root:{backgroundColor:"#eee",textAlign:"center",cursor:"pointer",color:"#333",padding:"10px",marginTop:"20px"},icon:{marginTop:"16px",color:"#888888",fontSize:"42px"}}})),he=function(e){var t=e.control,a=e.name,n=Ee();return r.a.createElement(h.a,{control:t,name:a,defaultValue:[],render:function(e){var t=e.onChange,l=e.onBlur,c=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{onDrop:t},(function(e){var t=e.getRootProps,c=e.getInputProps;return r.a.createElement(ce.a,Object.assign({variant:"outlined",className:n.root},t()),r.a.createElement(ie.a,{className:n.icon}),r.a.createElement("input",Object.assign({},c(),{name:a,onBlur:l})),r.a.createElement("p",null,"\u05d2\u05e8\u05d5\u05e8 \u05e7\u05d1\u05e6\u05d9\u05dd \u05dc\u05db\u05d0\u05df, \u05d0\u05d5 \u05dc\u05d7\u05e5 \u05db\u05d3\u05d9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e7\u05d1\u05e6\u05d9\u05dd"))})),r.a.createElement(ue.a,null,c.map((function(e,t){return r.a.createElement(me.a,{key:t},r.a.createElement(se.a,null,r.a.createElement(fe.a,null)),r.a.createElement(pe.a,{primary:e.name,secondary:e.size}))}))))}})},be=function(){var e=Object(c.h)(),t=f(),a=t.data,n=t.setValues,l=Object(h.d)({defaultValues:{files:a.files}}),o=l.control,i=l.handleSubmit;return r.a.createElement(k,null,r.a.createElement(E.a,{component:"h2",variant:"h5"},"\u05e9\u05dc\u05d1 3"),r.a.createElement(S,{onSubmit:i((function(t){e("/result"),n(t)}))},r.a.createElement(he,{name:"files",control:o}),r.a.createElement(x,null,"\u05d4\u05d1\u05d0")))},ge=a(119),ve=a.n(ge),Oe=a(238),je=a(242),xe=a(241),ye=a(237),Ne=a(239),ke=a(240),we=Object(O.a)({root:{marginBottom:"30px"},table:{marginBottom:"30px"}}),Se=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],o=we(),s=f().data,p=Object.entries(s).filter((function(e){return"files"!==e[0]})),d=s.files,h=Object(M.b)(K,"Members"),b=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r,l,o,u,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new FormData,s.files&&s.files.forEach((function(e){t.append("files",e,e.name)})),p.forEach((function(e){t.append(e[0],e[1])})),a={},t.forEach((function(e,t){a[t]=e})),n=Object.values(a),r=Object.keys(a).indexOf("personalID"),l=n[r],o=Object(M.f)(h,Object(M.h)("personalID","==",l)),e.next=11,Object(M.d)(o);case 11:if(u=e.sent,m=!0,u.forEach((function(e){console.log(e.id," => ",e.data()),Object(M.g)(Object(M.c)(h,e.id),a),m=!1,L.a.fire({icon:"success",title:"!\u05de\u05e2\u05d5\u05dc\u05d4",text:"!\u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05e9\u05dc\u05da \u05e0\u05e7\u05dc\u05d8\u05d5 \u05d1\u05de\u05e2\u05e8\u05db\u05ea",confirmButtonText:"\u05d0\u05d5\u05e7\u05d9\u05d9"}),c(!0)})),!m){e.next=17;break}return e.next=17,Object(M.a)(h,a);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?r.a.createElement(ve.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null,r.a.createElement(E.a,{component:"h2",variant:"h5"},"\u05e8\u05d2\u05e2 \u05dc\u05e4\u05e0\u05d9 \u05e9\u05e9\u05d5\u05dc\u05d7\u05d9\u05dd"),r.a.createElement(ye.a,{className:o.root,component:ce.a},r.a.createElement(Oe.a,{className:o.table,"aria-label":"simple table"},r.a.createElement(Ne.a,null,r.a.createElement(ke.a,null,r.a.createElement(xe.a,null,"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d9\u05d4"),r.a.createElement(xe.a,{align:"right"},"\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"))),r.a.createElement(je.a,null,p.map((function(e){return r.a.createElement(ke.a,{key:e[0]},r.a.createElement(xe.a,{component:"th",scope:"row"},e[0]),r.a.createElement(xe.a,{align:"right"},e[1].toString()))}))))),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{component:"h2",variant:"h5"},"\u05e7\u05d1\u05e6\u05d9\u05dd"),r.a.createElement(ue.a,null,d.map((function(e,t){return r.a.createElement(me.a,{key:t},r.a.createElement(se.a,null,r.a.createElement(fe.a,null)),r.a.createElement(pe.a,{primary:e.name,secondary:e.size}))})))),r.a.createElement(x,{onClick:b},"\u05e9\u05dc\u05d7"),r.a.createElement(l.b,{to:"/"},"\u05d4\u05ea\u05d7\u05dc \u05de\u05d7\u05d3\u05e9")))},Ie=a(243),De=a(120),Be=function(){return r.a.createElement(Ie.a,{container:!0,justify:"center"},r.a.createElement(De.a,{scene:"https://prod.spline.design/7unKF64rDJYGN6uZ/scene.splinecode"}))},Ve=function(){return P.isAuthenticated()?r.a.createElement(c.b,null):r.a.createElement(c.a,{to:"/"})};var Te=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,null),r.a.createElement(l.a,null,r.a.createElement(c.e,null,r.a.createElement(c.c,{exact:!0,path:"/",element:r.a.createElement(U,null)}),r.a.createElement(c.c,{element:r.a.createElement(Ve,null)},r.a.createElement(c.c,{path:"/step1",element:r.a.createElement(_,null)}),r.a.createElement(c.c,{path:"/step2",element:r.a.createElement(re,null)}),r.a.createElement(c.c,{path:"/step3",element:r.a.createElement(be,null)}),r.a.createElement(c.c,{path:"/result",element:r.a.createElement(Se,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=a(123);Object(Ce.createRoot)(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d,null,r.a.createElement(Te,null)))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.419c8cae.chunk.js.map